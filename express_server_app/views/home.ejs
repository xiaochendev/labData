<!DOCTYPE html>
<html  lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/style.css">
</head>

<body>
    <%- include('partials/nav') %>
    <%- include('partials/messages') %>

    <h1>Welcome</h1>
    <h2>Users</h2>
    <ul>
      <% users.forEach(user => { %>
        <li>
          <a href="/api/users/<%= user.id %>">
            <%= user.name %> (@<%= user.username %>)
          </a>
        </li>
      <% }) %>
    </ul>

    <h1>All Posts</h1>
    <ul>
      <% posts.forEach(post => { %>
        <li>
          <a href="/api/posts/<%= post.id %>"><strong><%= post.title %></strong></a><br>
          <small>by 
            <%= (users.find(u => u.id == post.userId) || {}).username %>
          </small>
        </li>
      <% }) %>
    </ul>

    <h2>Contact Us</h2>
    <form action="/submit" method="POST">
        <label>Name: <input type="text" name="name" required /></label><br>
        <label>Email: <input type="email" name="email" required /></label><br>
        <button type="submit">Submit</button>
    </form>

</body>

</html>